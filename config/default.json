{
  "$schema": "./schema.json",
  "meta": {
    "configVersion": "1.3.0",
    "description": "jiujiu-plugin 默认配置 - 基于 assets 目录结构"
  },

  // ==================== 核心配置 ====================
  "core": {
    "debug": false,
    "logLevel": "info",
    "dataPath": "./data/jiujiu",
    "autoReload": true,
    "performance": {
      "gcInterval": 3600,
      "maxMemory": "512MB"
    }
  },

  // ==================== 图片配置 ====================
  "image": {
    "local": {
      "path": "./assets/images",       // 关键修改：resources -> assets
      "maxSize": "20MB",
      "allowedExtensions": [".jpg", ".jpeg", ".png", ".webp"],
      "scanInterval": 300,
      "watchChanges": true
    },
    "web": {
      "apis": [
        {
          "url": "https://picsum.photos/500/500",
          "weight": 5
        },
        {
          "url": "https://source.unsplash.com/random/500x500",
          "weight": 3
        }
      ],
      "timeout": 8000,
      "retry": {
        "times": 2,
        "delay": 1000
      },
      "proxy": null
    },
    "processing": {
      "maxWidth": 2000,
      "maxHeight": 2000,
      "quality": 85
    }
  },

  // ==================== 缓存配置 ====================
  "cache": {
    "strategy": "hybrid",
    "memory": {
      "maxItems": 200,
      "ttl": 7200
    },
    "disk": {
      "path": "./data/cache",
      "maxSize": "1GB",
      "compression": {
        "enable": true,
        "level": 6
      }
    }
  },

  // ==================== 命令配置 ====================
  "commands": {
    "prefix": "#",
    "aliases": {
      "random": ["随机图片", "来张图"],
      "web": ["网络图片", "来张网络图"]
    },
    "cooldown": {
      "global": 1000,
      "specific": {
        "random": 3000,
        "web": 5000,
        "admin": 0
      }
    },
    "permissions": {
      "admin": ["master"],
      "update": ["owner"]
    }
  },

  // ==================== 更新配置 ====================
  "update": {
    "channel": "stable",
    "autoCheck": true,
    "checkInterval": 43200,
    "backup": {
      "beforeUpdate": true,
      "maxBackups": 3,
      "path": "./data/backups"
    },
    "notify": {
      "success": true,
      "failed": true
    }
  },

  // ==================== 数据库配置 ====================
"database": {
    "type": "sqlite",
    "path": "./data/jiujiu.db",
    "optimization": {
      "journalMode": "WAL"
    },
-   "migrationsPath": "./database/migrations",
+   "migrationsPath": "./database/db-migrations"
  }


  // ==================== 安全配置 ====================
  "security": {
    "rateLimit": {
      "enable": true,
      "window": "1m",
      "max": 30
    },
    "validation": {
      "imageSignature": false,
      "maxFileDepth": 5
    }
  }
}